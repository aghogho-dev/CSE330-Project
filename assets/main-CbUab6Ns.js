(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}})();const y="dce09b81ce070af51980ecb8304f70a6",u=document.getElementById("hero"),p=document.getElementById("movie-show"),w=document.getElementById("tv-show"),C=[889737,106646,1186947,1248753,872585,475557],b=[2734,37680,1668],h=[519182,1184918,1022789,1159311,1354627];function f(t){const o=`https://api.themoviedb.org/3/movie/${t}?api_key=${y}&append_to_response=images`;return fetch(o).then(e=>{if(!e.ok)throw new Error(`HTTP Error! status: ${e.status}`);return e.json()}).catch(e=>(console.error(`Failed to fetch movie with ID ${t}: ${e.message}`),null))}function M(t){const o=`https://api.themoviedb.org/3/tv/${t}?api_key=${y}&append_to_response=images`;return fetch(o).then(e=>{if(!e.ok)throw new Error(`HTTP Error! status: ${respons.status}`);return e.json()}).catch(e=>{console.error(`Failed to fetch TV show with ID ${t}: ${e.message}`)})}function $(t){if(!t){const d=document.createElement("div");d.classList.add("error"),d.textContent="Failed to load TV show details";return}const o=document.createElement("div");o.classList.add("tv");const e=document.createElement("img");e.setAttribute("src",`https://image.tmdb.org/t/p/w500/${t.poster_path}`),e.setAttribute("alt",`${t.name}`),e.setAttribute("loading","lazy");const r=document.createElement("button");r.classList.add("open-modal"),r.textContent="Learn More";const n=document.createElement("div");n.classList.add("describe-tv");const s=document.createElement("h3");s.textContent="Description";const i=document.createElement("p");i.innerHTML=`<strong>First Air Date:</strong> ${t.first_air_date}<br><strong>Last Air Date:</strong> ${t.last_air_date}`;const m=document.createElement("p");m.textContent=t.overview,n.appendChild(s),n.appendChild(i),n.appendChild(m);const c=document.createElement("dialog");c.classList.add("modal");const a=document.createElement("button");a.classList.add("close-modal"),a.textContent="❌",c.appendChild(n),c.appendChild(a),o.appendChild(e),o.appendChild(r),o.appendChild(c),w.appendChild(o),r.addEventListener("click",()=>{c.showModal()}),a.addEventListener("click",()=>{c.close()})}function g(t,o){if(!t){const e=document.createElement("div");e.classList.add("error"),e.textContent="Failed to load movie details",o?u.appendChild(e):p.appendChild(error);return}if(o)u.innerHTML=`<img src="https://image.tmdb.org/t/p/w500/${t.poster_path}" alt="${t.title}" loading="lazy">`;else{const e=document.createElement("div");e.classList.add("movie");const r=document.createElement("img");r.setAttribute("src",`https://image.tmdb.org/t/p/w500/${t.poster_path}`),r.setAttribute("alt",`${t.title}`),r.setAttribute("loading","lazy");const n=document.createElement("button");n.classList.add("open-modal"),n.textContent="Learn More";const s=document.createElement("div");s.classList.add("describe-movie");const i=document.createElement("h3");i.textContent="Description";const m=document.createElement("p");m.innerHTML=`<strong>Release Date:</strong> ${t.release_date}`;const c=document.createElement("p");c.textContent=t.overview,s.appendChild(i),s.appendChild(m),s.appendChild(c);const a=document.createElement("dialog");a.classList.add("modal");const d=document.createElement("button");d.classList.add("close-modal"),d.textContent="❌",a.appendChild(s),a.appendChild(d),e.appendChild(r),e.appendChild(n),e.appendChild(a),p.appendChild(e),n.addEventListener("click",()=>{a.showModal()}),d.addEventListener("click",()=>{a.close()})}}function L(t){if(!t)C.forEach(o=>{f(o).then(e=>{g(e,!1)})});else{const o=Math.floor(Math.random()*h.length),e=h[o];f(e).then(r=>{g(r,!0)})}}function T(){b.forEach(t=>{M(t).then(o=>{$(o)})})}async function v(t){return await(await fetch(t)).text()}async function D(){const t=await v("../partials/header.html"),o=document.querySelector(".headerElement"),e=await v("../partials/footer.html"),r=document.querySelector(".footerElement");renderWithTemplate(t,o),renderWithTemplate(e,r)}D();const E=document.querySelector("#menu-btn"),I=document.querySelector("#menu-links");E.addEventListener("click",()=>{I.classList.toggle("open"),E.classList.toggle("open")});const S=document.querySelector("#current-year"),x=document.querySelector("#last-modified"),l=new Date;S.innerHTML=`${l.getFullYear()}`;x.innerHTML=`Last Modification: ${l.getDate()}/${l.getMonth()}/${l.getFullYear()} ${l.getHours()}:${l.getMinutes()}:${l.getSeconds()}`;const _=document.getElementById("visitor-message");function H(){const t=localStorage.getItem("lastVisit"),o=new Date,e=F(t,o);localStorage.setItem("lastVisit",o.toISOString()),e&&(_.innerHTML=e)}function F(t,o){if(!t)return"Welcome! Let us know if you have any questions.";const e=new Date(t),r=Math.abs(o-e),n=Math.floor(r/(1e3*60*60*24));return n<1?"Back so soon! Awesome!":`You last visited ${n} ${n===1?"day":"days"} ago.`}window.onload=H;L(!0);L(!1);T();
