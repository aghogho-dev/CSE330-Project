(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function e(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=e(o);fetch(o.href,r)}})();const E="dce09b81ce070af51980ecb8304f70a6",m=document.getElementById("hero"),u=document.getElementById("movie-show"),w=document.getElementById("tv-show"),L=[889737,106646,1186947,1248753,872585,475557],b=[2734,37680,1668],p=[519182,1184918,1022789,1159311,1354627];function h(t){const n=`https://api.themoviedb.org/3/movie/${t}?api_key=${E}&append_to_response=images`;return fetch(n).then(e=>{if(!e.ok)throw new Error(`HTTP Error! status: ${e.status}`);return e.json()}).catch(e=>(console.error(`Failed to fetch movie with ID ${t}: ${e.message}`),null))}function M(t){const n=`https://api.themoviedb.org/3/tv/${t}?api_key=${E}&append_to_response=images`;return fetch(n).then(e=>{if(!e.ok)throw new Error(`HTTP Error! status: ${respons.status}`);return e.json()}).catch(e=>{console.error(`Failed to fetch TV show with ID ${t}: ${e.message}`)})}function C(t){if(!t){const d=document.createElement("div");d.classList.add("error"),d.textContent="Failed to load TV show details";return}const n=document.createElement("div");n.classList.add("tv");const e=document.createElement("img");e.setAttribute("src",`https://image.tmdb.org/t/p/w500/${t.poster_path}`),e.setAttribute("alt",`${t.name}`),e.setAttribute("loading","lazy");const s=document.createElement("button");s.classList.add("open-modal"),s.textContent="Learn More";const o=document.createElement("div");o.classList.add("describe-tv");const r=document.createElement("h3");r.textContent="Description";const i=document.createElement("p");i.innerHTML=`<strong>First Air Date:</strong> ${t.first_air_date}<br><strong>Last Air Date:</strong> ${t.last_air_date}`;const l=document.createElement("p");l.textContent=t.overview,o.appendChild(r),o.appendChild(i),o.appendChild(l);const c=document.createElement("dialog");c.classList.add("modal");const a=document.createElement("button");a.classList.add("close-modal"),a.textContent="❌",c.appendChild(o),c.appendChild(a),n.appendChild(e),n.appendChild(s),n.appendChild(c),w.appendChild(n),s.addEventListener("click",()=>{c.showModal()}),a.addEventListener("click",()=>{c.close()})}function f(t,n){if(!t){const e=document.createElement("div");e.classList.add("error"),e.textContent="Failed to load movie details",n?m.appendChild(e):u.appendChild(error);return}if(n)m.innerHTML=`<img src="https://image.tmdb.org/t/p/w500/${t.poster_path}" alt="${t.title}" loading="lazy">`;else{const e=document.createElement("div");e.classList.add("movie");const s=document.createElement("img");s.setAttribute("src",`https://image.tmdb.org/t/p/w500/${t.poster_path}`),s.setAttribute("alt",`${t.title}`),s.setAttribute("loading","lazy");const o=document.createElement("button");o.classList.add("open-modal"),o.textContent="Learn More";const r=document.createElement("div");r.classList.add("describe-movie");const i=document.createElement("h3");i.textContent="Description";const l=document.createElement("p");l.innerHTML=`<strong>Release Date:</strong> ${t.release_date}`;const c=document.createElement("p");c.textContent=t.overview,r.appendChild(i),r.appendChild(l),r.appendChild(c);const a=document.createElement("dialog");a.classList.add("modal");const d=document.createElement("button");d.classList.add("close-modal"),d.textContent="❌",a.appendChild(r),a.appendChild(d),e.appendChild(s),e.appendChild(o),e.appendChild(a),u.appendChild(e),o.addEventListener("click",()=>{a.showModal()}),d.addEventListener("click",()=>{a.close()})}}function y(t){if(!t)L.forEach(n=>{h(n).then(e=>{f(e,!1)})});else{const n=Math.floor(Math.random()*p.length),e=p[n];h(e).then(s=>{f(s,!0)})}}function $(){b.forEach(t=>{M(t).then(n=>{C(n)})})}async function g(t){return await(await fetch(t)).text()}function v(t,n,e,s){n.insertAdjacentHTML("afterbegin",t)}async function T(){const t=await g("partials/header.html"),n=document.querySelector(".headerElement"),e=await g("partials/footer.html"),s=document.querySelector(".footerElement");v(t,n),v(e,s)}T();window.addEventListener("pageshow",()=>{const t=document.querySelector("#menu-btn"),n=document.querySelector("#menu-links");if(!t||!n){console.error("Menu button or navigation element not found!");return}t.addEventListener("click",()=>{n.classList.toggle("open"),t.classList.toggle("open")});const e=document.querySelector("#current-year"),s=document.querySelector("#last-modified"),o=new Date;e.innerHTML=`${o.getFullYear()}`,s.innerHTML=`Last Modification: ${o.getDate()}/${o.getMonth()}/${o.getFullYear()} ${o.getHours()}:${o.getMinutes()}:${o.getSeconds()}`});const D=document.getElementById("visitor-message");function I(){const t=localStorage.getItem("lastVisit"),n=new Date,e=S(t,n);localStorage.setItem("lastVisit",n.toISOString()),e&&(D.innerHTML=e)}function S(t,n){if(!t)return"Welcome! Let us know if you have any questions.";const e=new Date(t),s=Math.abs(n-e),o=Math.floor(s/(1e3*60*60*24));return o<1?"Back so soon! Awesome!":`You last visited ${o} ${o===1?"day":"days"} ago.`}window.onload=I;y(!0);y(!1);$();
